<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="../Cremositos/css/styleContactos.css">
</head>

<body class="fondo">
    <div id="header"></div>
    <main>
        <h1>Agregar Nueva Paleta</h1>
        <div class="formulario">
            <input type="text" id="sabor" placeholder="Sabor" required>
            <input type="number" id="valor" placeholder="Valor" required>
            <input type="file" id="imagen" accept="image/*" required>
            <button onclick="agregarProducto()">Agregar Producto</button>
        </div>
    
        <script>
            function agregarProducto() {
                const sabor = document.getElementById("sabor").value;
                const valor = document.getElementById("valor").value;
                const imagenInput = document.getElementById("imagen");
    
                if (!sabor || !valor || !imagenInput.files[0]) {
                    alert("Por favor, completa todos los campos.");
                    return;
                }
    
                const imagenURL = URL.createObjectURL(imagenInput.files[0]);
    
                // Crear objeto de producto
                const producto = {
                    sabor,
                    valor,
                    imagenURL
                };
    
                // Obtener productos guardados en localStorage
                let productos = JSON.parse(localStorage.getItem("productos")) || [];
    
                // AÃ±adir el nuevo producto
                productos.push(producto);
    
                // Guardar de nuevo en localStorage
                localStorage.setItem("productos", JSON.stringify(productos));
    
                alert("Producto agregado correctamente!");
                
                // Limpiar el formulario
                document.getElementById("sabor").value = "";
                document.getElementById("valor").value = "";
                document.getElementById("imagen").value = "";
            }
        </script>
    </main>
    <div id="footer"></div>
    <script src="header_footer/conn.js"></script>
</body>
</html>